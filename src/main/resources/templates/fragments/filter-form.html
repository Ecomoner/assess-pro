<div th:fragment="filterForm(action, fields)" class="card border-0 shadow-sm mb-3 mb-md-4">
    <div class="card-body p-3 p-md-4">
        <form th:action="@{${action}}" method="get" class="row g-2 g-md-3">
            <th:block th:each="field : ${fields}">
                <div th:classappend="'col-12 col-md-' + ${field.size}">
                    <label th:if="${field.label}" class="form-label fw-semibold d-none d-md-block"
                           th:text="${field.label}">Лейбл</label>
                    <input th:if="${field.type == 'text'}"
                           type="text"
                           class="form-control"
                           th:name="${field.name}"
                           th:value="${field.value}"
                           th:placeholder="${field.placeholder}">
                    <select th:if="${field.type == 'select'}"
                            class="form-select"
                            th:name="${field.name}">
                        <option th:each="opt : ${field.options}"
                                th:value="${opt.value}"
                                th:selected="${opt.selected}"
                                th:text="${opt.label}">Опция</option>
                    </select>
                </div>
            </th:block>
            <div class="col-12 col-md-auto d-flex gap-2">
                <button type="submit" class="btn btn-dark flex-grow-1 flex-md-grow-0">
                    <i class="bi bi-filter me-1"></i>
                    <span>Применить</span>
                </button>
                <a th:href="@{${action}}" class="btn btn-outline-secondary flex-grow-1 flex-md-grow-0">
                    <i class="bi bi-arrow-repeat me-1"></i>
                    <span class="d-none d-md-inline">Сброс</span>
                </a>
            </div>
        </form>
    </div>
</div>