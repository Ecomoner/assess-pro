<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Компонент пагинации</title>
</head>
<body>
<!-- Компонент пагинации (th:fragment) -->
<div th:fragment="pagination(currentPage, totalPages, pageSize, baseUrl, params)"
     class="pagination-component">

    <nav aria-label="Навигация по страницам" th:if="${totalPages > 1}">
        <ul class="pagination justify-content-center">

            <!-- Первая страница -->
            <li class="page-item" th:classappend="${currentPage == 0} ? 'disabled' : ''">
                <a class="page-link"
                   th:href="${baseUrl} + '?page=0&size=' + ${pageSize} + (${params} ? '&' + ${params} : '')"
                   aria-label="Первая">
                    <span aria-hidden="true">&laquo;&laquo;</span>
                </a>
            </li>

            <!-- Предыдущая страница -->
            <li class="page-item" th:classappend="${currentPage == 0} ? 'disabled' : ''">
                <a class="page-link"
                   th:href="${baseUrl} + '?page=' + (${currentPage} - 1) + '&size=' + ${pageSize} + (${params} ? '&' + ${params} : '')"
                   th:if="${currentPage > 0}"
                   aria-label="Предыдущая">
                    <span aria-hidden="true">&laquo;</span>
                </a>
                <span class="page-link" th:unless="${currentPage > 0}" aria-label="Предыдущая">
                        <span aria-hidden="true">&laquo;</span>
                    </span>
            </li>

            <!-- Номера страниц -->
            <li th:each="i : ${#numbers.sequence(
                                  #numbers.max(0, currentPage - 2),
                                  #numbers.min(totalPages - 1, currentPage + 2)
                                )}"
                class="page-item"
                th:classappend="${i == currentPage} ? 'active' : ''">

                <a class="page-link"
                   th:href="${baseUrl} + '?page=' + ${i} + '&size=' + ${pageSize} + (${params} ? '&' + ${params} : '')"
                   th:text="${i + 1}">
                </a>
            </li>

            <!-- Следующая страница -->
            <li class="page-item" th:classappend="${currentPage + 1 >= totalPages} ? 'disabled' : ''">
                <a class="page-link"
                   th:href="${baseUrl} + '?page=' + (${currentPage} + 1) + '&size=' + ${pageSize} + (${params} ? '&' + ${params} : '')"
                   th:if="${currentPage + 1 < totalPages}"
                   aria-label="Следующая">
                    <span aria-hidden="true">&raquo;</span>
                </a>
                <span class="page-link" th:unless="${currentPage + 1 < totalPages}" aria-label="Следующая">
                        <span aria-hidden="true">&raquo;</span>
                    </span>
            </li>

            <!-- Последняя страница -->
            <li class="page-item" th:classappend="${currentPage + 1 >= totalPages} ? 'disabled' : ''">
                <a class="page-link"
                   th:href="${baseUrl} + '?page=' + (${totalPages} - 1) + '&size=' + ${pageSize} + (${params} ? '&' + ${params} : '')"
                   aria-label="Последняя">
                    <span aria-hidden="true">&raquo;&raquo;</span>
                </a>
            </li>
        </ul>
    </nav>

    <!-- Информация о пагинации -->
    <div class="text-center mt-2">
        <small class="text-muted">
            Страница <span th:text="${currentPage + 1}">1</span> из <span th:text="${totalPages}">1</span>
        </small>
    </div>
</div>
</body>
</html>